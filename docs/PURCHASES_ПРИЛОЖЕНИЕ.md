# PURCHASES –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üéØ –û–±—â –ø—Ä–µ–≥–ª–µ–¥

**PURCHASES –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ** –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–∞ —Ä–∞–±–æ—Ç–Ω–∏—è –ø–æ—Ç–æ–∫ –∑–∞ —Å–Ω–∞–±–¥—è–≤–∞–Ω–µ –≤ OptimaPOS. –¢–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è **—Ç—ä–Ω–∫–∞ –æ–±–≤–∏–≤–∫–∞** –æ–∫–æ–ª–æ NOMENCLATURES facade, –æ–±—Ä–∞–±–æ—Ç–≤–∞–π–∫–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—Ç–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∏ –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∞, –¥–æ–∫–∞—Ç–æ –¥–µ–ª–µ–≥–∏—Ä–∞ –≤—Å–∏—á–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–Ω–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫—ä–º —É–Ω–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞.

## üìã –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [Thin Wrapper Pattern](#thin-wrapper-pattern)
3. [–¢–∏–ø–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏](#—Ç–∏–ø–æ–≤–µ-–¥–æ–∫—É–º–µ–Ω—Ç–∏)
4. [–†–∞–±–æ—Ç–µ–Ω –ø–æ—Ç–æ–∫ –∑–∞ –ø–æ–∫—É–ø–∫–∏](#—Ä–∞–±–æ—Ç–µ–Ω-–ø–æ—Ç–æ–∫-–∑–∞-–ø–æ–∫—É–ø–∫–∏)
5. [–ú–æ–¥–µ–ª–∏](#–º–æ–¥–µ–ª–∏)
6. [–£—Å–ª—É–≥–∏](#—É—Å–ª—É–≥–∏)
7. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∏ —Ç–æ—á–∫–∏](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∏-—Ç–æ—á–∫–∏)
8. [–®–∞–±–ª–æ–Ω–∏ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ](#—à–∞–±–ª–æ–Ω–∏-–∑–∞-–∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
PURCHASES App –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
‚îú‚îÄ‚îÄ services/                    # –¢—ä–Ω–∫–∏ –æ–±–≤–∏–≤–∞—â–∏ —É—Å–ª—É–≥–∏
‚îÇ   ‚îî‚îÄ‚îÄ purchase_service.py     # üèóÔ∏è –ì–ª–∞–≤–Ω–∞ —É—Å–ª—É–≥–∞ - –¥–µ–ª–µ–≥–∏—Ä–∞ –∫—ä–º NOMENCLATURES
‚îú‚îÄ‚îÄ models/                      # –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ requests.py             # Purchase Request + Lines
‚îÇ   ‚îú‚îÄ‚îÄ orders.py               # Purchase Order + Lines
‚îÇ   ‚îî‚îÄ‚îÄ deliveries.py           # Delivery Receipt + Lines  
‚îú‚îÄ‚îÄ admin/                       # Admin –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏
‚îî‚îÄ‚îÄ views.py                     # –ë–∞–∑–æ–≤–∏ –∏–∑–≥–ª–µ–¥–∏ (–∞–∫–æ –∏–º–∞ —Ç–∞–∫–∏–≤–∞)
```

### –ö–ª—é—á–æ–≤–∏ –¥–∏–∑–∞–π–Ω –ø—Ä–∏–Ω—Ü–∏–ø–∏

- **üèóÔ∏è Thin Wrapper Pattern** - –ú–∏–Ω–∏–º–∞–ª–µ–Ω –∫–æ–¥, –º–∞–∫—Å–∏–º–∞–ª–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–∞–Ω–µ
- **üéØ Domain-–°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –ª–æ–≥–∏–∫–∞** - –°–∞–º–æ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –∏ –±–∏–∑–Ω–µ—Å –ø—Ä–∞–≤–∏–ª–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏
- **üèõÔ∏è Facade –î–µ–ª–µ–≥–∏—Ä–∞–Ω–µ** - –í–°–ò–ß–ö–ò –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–º–∏–Ω–∞–≤–∞—Ç –ø—Ä–µ–∑ NOMENCLATURES DocumentService
- **‚ôªÔ∏è –ü—Ä–µ–∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –∫–æ–¥** - 700+ —Ä–µ–¥–∞ –Ω–∞–º–∞–ª–µ–Ω–∏ –¥–æ ~150 —Ä–µ–¥–∞ (75% –Ω–∞–º–∞–ª–µ–Ω–∏–µ)

---

## Thin Wrapper Pattern

### –û—Å–Ω–æ–≤–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è: 100% –î–µ–ª–µ–≥–∏—Ä–∞–Ω–µ

```python
class PurchaseDocumentService:
    """
    –¢—ä–Ω–∫–∞ –æ–±–≤–∏–≤–∫–∞ –∫–æ—è—Ç–æ –¥–µ–ª–µ–≥–∏—Ä–∞ –í–°–ò–ß–ö–û –∫—ä–º nomenclatures.DocumentService
    –û–±—Ä–∞–±–æ—Ç–≤–∞ —Å–∞–º–æ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—Ç–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∏ domain –ª–æ–≥–∏–∫–∞
    """
    
    def __init__(self, document=None, user: User = None):
        # –ü–†–ò–ù–¶–ò–ü: –í—Å–∏—á–∫–æ –ø—Ä–µ–∑ facade!
        self.facade = DocumentService(document, user)
        self.document = document
        self.user = user
```

### –ö–∞–∫–≤–æ –ü–†–ê–í–ò —Ç–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
- ‚úÖ **–ö–æ–Ω–≤–µ—Ä—Å–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏** (Request ‚Üí Order ‚Üí Delivery)
- ‚úÖ **Domain –±–∏–∑–Ω–µ—Å –ø—Ä–∞–≤–∏–ª–∞** (–≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏, —Ä–∞–±–æ—Ç–Ω–∏ –ø–æ—Ç–æ—Ü–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏)
- ‚úÖ **Purchase –º–æ–¥–µ–ª–∏** (PurchaseRequest, PurchaseOrder, DeliveryReceipt)
- ‚úÖ **–ú–∞–ø–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ–ª–µ—Ç–∞** (generic –≤—Ö–æ–¥ ‚Üí —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –ø–æ–ª–µ—Ç–∞)

### –ö–∞–∫–≤–æ –ù–ï –ü–†–ê–í–ò —Ç–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
- ‚ùå **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏** ‚Üí –î–µ–ª–µ–≥–∏—Ä–∞–Ω–æ –∫—ä–º NOMENCLATURES
- ‚ùå **–ü—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏** ‚Üí –î–µ–ª–µ–≥–∏—Ä–∞–Ω–æ –∫—ä–º NOMENCLATURES  
- ‚ùå **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ** ‚Üí –î–µ–ª–µ–≥–∏—Ä–∞–Ω–æ –∫—ä–º NOMENCLATURES
- ‚ùå **–§–∏–Ω–∞–Ω—Å–æ–≤–∏ –∫–∞–ª–∫—É–ª–∞—Ü–∏–∏** ‚Üí –î–µ–ª–µ–≥–∏—Ä–∞–Ω–æ –∫—ä–º NOMENCLATURES
- ‚ùå **–°–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è** ‚Üí –î–µ–ª–µ–≥–∏—Ä–∞–Ω–æ –∫—ä–º NOMENCLATURES ‚Üí INVENTORY

---

## –¢–∏–ø–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏

### 1. **Purchase Request** üìã
**–¶–µ–ª:** –ü—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –ø—Ä–æ–¥—É–∫—Ç–∏ –æ—Ç –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏.

```python
# –ú–æ–¥–µ–ª: PurchaseRequest + PurchaseRequestLine
class PurchaseRequest(BaseDocument, FinancialMixin):
    request_date = models.DateField(default=timezone.now)
    expected_delivery_date = models.DateField(null=True, blank=True)
    priority = models.CharField(max_length=20, choices=PRIORITY_CHOICES)
    
class PurchaseRequestLine(BaseDocumentLine, FinancialLineMixin):
    requested_quantity = models.DecimalField(...)  # ‚Üê –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –ø–æ–ª–µ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
    estimated_price = models.DecimalField(...)     # –ü—Ä–æ–≥–Ω–æ–∑–Ω–∞ –µ–¥–∏–Ω–∏—á–Ω–∞ —Ü–µ–Ω–∞
```

**–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ:**
```python
# –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∞
result = service.create_document(
    'request',
    supplier=supplier,
    location=location,
    lines=[
        {
            'product': product,
            'quantity': Decimal('10'),  # ‚Üí –ú–∞–ø–≤–∞ —Å–µ –∫—ä–º requested_quantity
            'unit_price': Decimal('25') # ‚Üí –ú–∞–ø–≤–∞ —Å–µ –∫—ä–º estimated_price
        }
    ]
)
```

### 2. **Purchase Order** üì¶
**–¶–µ–ª:** –û—Ñ–∏—Ü–∏–∞–ª–Ω–∞ –ø–æ—Ä—ä—á–∫–∞ –∏–∑–ø—Ä–∞—Ç–µ–Ω–∞ –∫—ä–º –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏.

```python  
# –ú–æ–¥–µ–ª: PurchaseOrder + PurchaseOrderLine
class PurchaseOrder(BaseDocument, FinancialMixin, PaymentMixin):
    order_date = models.DateField(default=timezone.now)
    expected_delivery_date = models.DateField(null=True)
    supplier_order_reference = models.CharField(...)
    
class PurchaseOrderLine(BaseDocumentLine, FinancialLineMixin):
    ordered_quantity = models.DecimalField(...)   # ‚Üê –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –ø–æ–ª–µ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ  
    confirmed_price = models.DecimalField(...)    # –û–∫–æ–Ω—á–∞—Ç–µ–ª–Ω–∞ –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–∞ —Ü–µ–Ω–∞
    source_request_line = models.ForeignKey(...)  # –í—Ä—ä–∑–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ –∫—ä–º –∑–∞—è–≤–∫–∞—Ç–∞
```

**–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ:**
```python
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∞ –∫—ä–º –ø–æ—Ä—ä—á–∫–∞
result = service.convert_to_order(
    request_document=purchase_request,
    conversion_data={
        'expected_delivery_date': date(2025, 9, 15),
        'supplier_order_reference': 'SUP-REF-12345'
    }
)
```

### 3. **Delivery Receipt** üöõ
**–¶–µ–ª:** –ó–∞–ø–∏—Å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏ —Å—Ç–æ–∫–∏.

```python
# –ú–æ–¥–µ–ª: DeliveryReceipt + DeliveryLine  
class DeliveryReceipt(BaseDocument, FinancialMixin, PaymentMixin):
    delivery_date = models.DateField(default=timezone.now)
    received_by = models.ForeignKey(User, ...)
    quality_status = models.CharField(...)         # –ö–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ
    
class DeliveryLine(BaseDocumentLine, FinancialLineMixin):
    received_quantity = models.DecimalField(...)   # ‚Üê –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ –ø–æ–ª–µ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
    quality_approved = models.BooleanField(...)    # –†–µ–∑—É–ª—Ç–∞—Ç –æ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞—Ç–∞ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ
    batch_number = models.CharField(...)           # –ü—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ –Ω–∞ –ø–∞—Ä—Ç–∏–¥–∏
    source_order_line = models.ForeignKey(...)     # –í—Ä—ä–∑–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ –∫—ä–º –ø–æ—Ä—ä—á–∫–∞—Ç–∞
```

**–ò–∑–ø–æ–ª–∑–≤–∞–Ω–µ:**
```python
# –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞ –∫—ä–º –¥–æ—Å—Ç–∞–≤–∫–∞  
result = service.convert_to_delivery(
    order_document=purchase_order,
    delivery_data={
        'delivery_date': date.today(),
        'received_quantities': {1: Decimal('9.5'), 2: Decimal('15')}
    }
)
```

---

## –†–∞–±–æ—Ç–µ–Ω –ø–æ—Ç–æ–∫ –∑–∞ –ø–æ–∫—É–ø–∫–∏

### –ü—ä–ª–µ–Ω —Ü–∏–∫—ä–ª –Ω–∞ —Å–Ω–∞–±–¥—è–≤–∞–Ω–µ

```
üìã REQUEST ‚Üí üì¶ ORDER ‚Üí üöõ DELIVERY
    ‚Üì           ‚Üì         ‚Üì
  —á–µ—Ä–Ω–æ–≤–∞    —á–µ—Ä–Ω–æ–≤–∞    —á–µ—Ä–Ω–æ–≤–∞ ‚Üí –∑–∞–≤—ä—Ä—à–µ–Ω (üì¶ —Å–∫–ª–∞–¥)
    ‚Üì           ‚Üì         ‚Üì                     ‚Üì
  –ø–æ–¥–∞–¥–µ–Ω–∞  –ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞ –ø–æ–ª—É—á–µ–Ω            –æ—Ç–∫–∞–∑–∞–Ω (üóëÔ∏è reverse)
    ‚Üì           ‚Üì         ‚Üì                     ‚Üì
 –æ–¥–æ–±—Ä–µ–Ω–∞    –∏–∑–ø—Ä–∞—Ç–µ–Ω–∞ –∑–∞–≤—ä—Ä—à–µ–Ω       –æ–±—Ä–∞—Ç–Ω–æ –∫—ä–º –∑–∞–≤—ä—Ä—à–µ–Ω (‚ôªÔ∏è recreate)
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏ —Å—ä—Å —Å–∫–ª–∞–¥–∞

**–ö–ª—é—á–æ–≤–∞ —Ç–æ—á–∫–∞:** –í—Å–µ–∫–∏ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç –º–æ–∂–µ –¥–∞ –∏–º–∞ —Ä–∞–∑–ª–∏—á–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Å–∫–ª–∞–¥–∞:

- **Purchase Request:** –ù—è–º–∞ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ –≤—ä—Ä—Ö—É —Å–∫–ª–∞–¥–∞ (—Å–∞–º–æ –ø–ª–∞–Ω–∏—Ä–∞–Ω–µ)
- **Purchase Order:** –ù—è–º–∞ –≤—ä–∑–¥–µ–π—Å—Ç–≤–∏–µ –≤—ä—Ä—Ö—É —Å–∫–ª–∞–¥–∞ (—Å–∞–º–æ –∞–Ω–≥–∞–∂–∏–º–µ–Ω—Ç)  
- **Delivery Receipt:** –ü—ä–ª–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—ä—Å —Å–∫–ª–∞–¥–∞
  - `—á–µ—Ä–Ω–æ–≤–∞` ‚Üí –ù—è–º–∞ –¥–≤–∏–∂–µ–Ω–∏—è
  - `–∑–∞–≤—ä—Ä—à–µ–Ω` ‚Üí ‚úÖ –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è  
  - `–æ—Ç–∫–∞–∑–∞–Ω` ‚Üí ‚ùå –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Å–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è

### –õ–æ–≥–∏–∫–∞ –∑–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ

**1. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ Request ‚Üí Order:**
```python
def convert_to_order(self, request_document, conversion_data):
    # –ò–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ –æ—Ç –∑–∞—è–≤–∫–∞—Ç–∞
    lines = []
    for req_line in request_document.lines.all():
        lines.append({
            'product': req_line.product,
            'quantity': req_line.requested_quantity,    # Source –ø–æ–ª–µ
            'unit_price': conversion_data.get('confirmed_price', req_line.estimated_price),
            'source_request_line_id': req_line.id       # –ü–æ–¥–¥—ä—Ä–∂–∞–π –≤—Ä—ä–∑–∫–∞—Ç–∞
        })
    
    # –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞ —á—Ä–µ–∑ facade
    return self.facade.create(
        document_type='purchase_order',
        partner=request_document.partner, 
        location=request_document.location,
        lines=lines,
        **conversion_data
    )
```

**2. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ Order ‚Üí Delivery:**  
```python
def convert_to_delivery(self, order_document, delivery_data):
    # –ò–∑–≤–ª–∏—á–∞–Ω–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ –æ—Ç –ø–æ—Ä—ä—á–∫–∞—Ç–∞ —Å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–Ω–∏ –ø–æ–ª—É—á–µ–Ω–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
    lines = []
    received_quantities = delivery_data.get('received_quantities', {})
    
    for order_line in order_document.lines.all():
        received_qty = received_quantities.get(
            str(order_line.line_number), 
            order_line.ordered_quantity  # –ü–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –∫—ä–º –ø–æ—Ä—ä—á–∞–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
        )
        lines.append({
            'product': order_line.product,
            'quantity': received_qty,                   # –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–Ω–æ –ø–æ–ª—É—á–µ–Ω–æ
            'unit_price': order_line.unit_price,
            'entered_price': order_line.unit_price,     # –ê–∫—Ç–∏–≤–∏—Ä–∞ –î–î–° –∫–∞–ª–∫—É–ª–∞—Ü–∏–∏
            'source_order_line_id': order_line.id       # –ü–æ–¥–¥—ä—Ä–∂–∞–π –≤—Ä—ä–∑–∫–∞—Ç–∞
        })
    
    # –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ —á—Ä–µ–∑ facade
    return self.facade.create(
        document_type='delivery_receipt', 
        partner=order_document.partner,
        location=order_document.location,
        lines=lines,
        **delivery_data
    )
```

---

## –ú–æ–¥–µ–ª–∏

### –ô–µ—Ä–∞—Ä—Ö–∏—è –Ω–∞ –º–æ–¥–µ–ª–∏—Ç–µ

**–ë–∞–∑–æ–≤–∏ –∫–ª–∞—Å–æ–≤–µ:**
- –í—Å–∏—á–∫–∏ –º–æ–¥–µ–ª–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏ –Ω–∞—Å–ª–µ–¥—è–≤–∞—Ç –æ—Ç `BaseDocument` –∏ `BaseDocumentLine` (–æ—Ç NOMENCLATURES)
- –§–∏–Ω–∞–Ω—Å–æ–≤–∏—Ç–µ –º–æ–¥–µ–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç `FinancialMixin` –∏ `FinancialLineMixin` (–æ—Ç NOMENCLATURES)
- –ü—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ—Ç–æ –Ω–∞ –ø–ª–∞—â–∞–Ω–∏—è –∏–∑–ø–æ–ª–∑–≤–∞ `PaymentMixin` (–æ—Ç NOMENCLATURES)

### –ö–ª—é—á–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏ –Ω–∞ –º–æ–¥–µ–ª–∏—Ç–µ

**1. Generic –æ—Ç–Ω–æ—à–µ–Ω–∏—è:**
```python
# –í—Å–∏—á–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∏–∑–ø–æ–ª–∑–≤–∞—Ç generic –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∑–∞ –≥—ä–≤–∫–∞–≤–æ—Å—Ç
class PurchaseRequest(BaseDocument):
    # partner_content_type, partner_object_id ‚Üí GenericForeignKey –∫—ä–º –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏
    # location_content_type, location_object_id ‚Üí GenericForeignKey –∫—ä–º —Å–∫–ª–∞–¥–æ–≤–µ
```

**2. –°–≤—ä—Ä–∑–≤–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏:**
```python
# –ü–æ–¥–¥—ä—Ä–∂–∞–π –ø—ä–ª–Ω–∞ –ø—Ä–æ—Å–ª–µ–¥–∏–º–æ—Å—Ç –ø—Ä–µ–∑ —Ä–∞–±–æ—Ç–Ω–∏—è –ø–æ—Ç–æ–∫
class PurchaseOrder(BaseDocument):
    source_request = models.ForeignKey('PurchaseRequest', ...)
    
class DeliveryReceipt(BaseDocument):  
    source_order = models.ForeignKey('PurchaseOrder', ...)
    
class DeliveryLine(BaseDocumentLine):
    source_order_line = models.ForeignKey('PurchaseOrderLine', ...)
```

**3. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –ø–æ–ª–µ—Ç–∞—Ç–∞ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ:**
```python
# –í—Å–µ–∫–∏ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç –∏–º–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–∏ –ø–æ–ª–µ—Ç–∞ –∑–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
PurchaseRequestLine.requested_quantity  # –ö–∞–∫–≤–æ –∏—Å–∫–∞–º–µ
PurchaseOrderLine.ordered_quantity      # –ö–∞–∫–≤–æ –ø–æ—Ä—ä—á–∞—Ö–º–µ  
DeliveryLine.received_quantity          # –ö–∞–∫–≤–æ –ø–æ–ª—É—á–∏—Ö–º–µ

# –ù–æ API –µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–æ:
lines = [{'product': p, 'quantity': 10}]  # –°—ä—â–∏—è –≤—Ö–æ–¥–µ–Ω —Ñ–æ—Ä–º–∞—Ç
# ‚Üí –ê–≤—Ç–æ-–º–∞–ø–≤–∞ —Å–µ –∫—ä–º –ø—Ä–∞–≤–∏–ª–Ω–æ—Ç–æ –ø–æ–ª–µ –æ—Ç DocumentLineService
```

**4. –†–∞–∑—à–∏—Ä–µ–Ω–∏ –º–µ–Ω–∏–¥–∂—ä—Ä–∏:**
```python
class DeliveryReceiptManager(models.Manager):
    def get_queryset(self):
        return super().get_queryset().select_related(
            'partner_content_type', 'location_content_type', 'source_order'
        )
    
    def pending_quality_control(self):
        return self.filter(quality_status='pending')
        
    def ready_for_inventory(self):
        return self.filter(quality_status='approved')
```

---

## –£—Å–ª—É–≥–∏

### PurchaseDocumentService - –ì–ª–∞–≤–Ω–∞—Ç–∞ —É—Å–ª—É–≥–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Thin Wrapper + Facade Pattern**

```python
class PurchaseDocumentService:
    def __init__(self, document=None, user: User = None):
        self.facade = DocumentService(document, user)  # üèõÔ∏è –î–µ–ª–µ–≥–∏—Ä–∞–π –≤—Å–∏—á–∫–æ
        
    def create_document(self, doc_type, partner, location, lines, **kwargs):
        """–°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –≤—Å–µ–∫–∏ —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç –∑–∞ –ø–æ–∫—É–ø–∫–∞"""
        # 1. –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∏
        validation_result = self._validate_purchase_creation(partner, location, lines)
        if not validation_result.ok:
            return validation_result
            
        # 2. –ú–∞–ø–∏—Ä–∞–Ω–µ –Ω–∞ —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç –∫—ä–º –º–æ–¥–µ–ª
        model_map = {
            'request': 'purchases.PurchaseRequest',
            'order': 'purchases.PurchaseOrder', 
            'delivery': 'purchases.DeliveryReceipt'
        }
        
        # 3. –î–µ–ª–µ–≥–∏—Ä–∞–Ω–µ –∫—ä–º facade
        return self.facade.create(
            document_type=model_map[doc_type],
            partner=partner,
            location=location, 
            lines=lines,
            **kwargs
        )
```

### –£—Å–ª—É–≥–∏ –∑–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ

**Request ‚Üí Order:**
```python
def convert_to_order(self, request_document, conversion_data=None):
    """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∞ –∫—ä–º –ø–æ—Ä—ä—á–∫–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∞"""
    
    # 1. –í–∞–ª–∏–¥–∏—Ä–∞–Ω–µ —á–µ –∑–∞—è–≤–∫–∞—Ç–∞ –µ –≤ –ø—Ä–∞–≤–∏–ª–µ–Ω —Å—Ç–∞—Ç—É—Å
    if request_document.status not in ['–æ–¥–æ–±—Ä–µ–Ω–∞', '–ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞']:
        return Result.error('INVALID_STATUS', 
            f'–ù–µ –º–æ–∂–µ –¥–∞ —Å–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞ –∑–∞—è–≤–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å {request_document.status}')
    
    # 2. –ò–∑–≤–ª–∏—á–∞–Ω–µ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–∞–Ω–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ
    lines = self._extract_request_lines(request_document, conversion_data)
    
    # 3. –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞ —á—Ä–µ–∑ facade  
    return self.create_document(
        'order',
        partner=request_document.partner,
        location=request_document.location,
        lines=lines,
        source_request=request_document,
        **conversion_data
    )
```

**Order ‚Üí Delivery:**
```python
def convert_to_delivery(self, order_document, delivery_data=None):
    """–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∞ –∫—ä–º –¥–æ—Å—Ç–∞–≤–Ω–∞ —Ä–∞–∑–ø–∏—Å–∫–∞"""
    
    # 1. –í–∞–ª–∏–¥–∏—Ä–∞–Ω–µ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞
    if order_document.status not in ['–ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞', '–∏–∑–ø—Ä–∞—Ç–µ–Ω–∞']:
        return Result.error('INVALID_STATUS',
            f'–ù–µ –º–æ–∂–µ –¥–∞ —Å–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞ –ø–æ—Ä—ä—á–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å {order_document.status}')
            
    # 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —á–∞—Å—Ç–∏—á–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –∫–æ—Ä–µ–∫—Ü–∏–∏ –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞—Ç–∞
    lines = self._extract_order_lines(order_document, delivery_data)
    
    # 3. –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ —á—Ä–µ–∑ facade
    return self.create_document(
        'delivery',
        partner=order_document.partner,
        location=order_document.location,
        lines=lines,
        source_order=order_document,
        **delivery_data
    )
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–∏ —Ç–æ—á–∫–∏

### –° NOMENCLATURES –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ

**100% Facade –¥–µ–ª–µ–≥–∏—Ä–∞–Ω–µ:**
```python
# –í–°–ò–ß–ö–û –ø—Ä–µ–º–∏–Ω–∞–≤–∞ –ø—Ä–µ–∑ DocumentService facade
class PurchaseDocumentService:
    def create_document(self, ...):
        return self.facade.create(...)           # –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏
        
    def add_line(self, ...):  
        return self.facade.add_line(...)         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ
        
    def transition_status(self, ...):
        return self.facade.transition_to(...)    # –ü—Ä–æ–º–µ–Ω–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏
        
    def calculate_totals(self):
        return self.facade.calculate_totals()    # –§–∏–Ω–∞–Ω—Å–æ–≤–∏ –∫–∞–ª–∫—É–ª–∞—Ü–∏–∏
```

### –° INVENTORY –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ  

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á—Ä–µ–∑ –ø—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏:**
```python  
# –ë–ï–ó –¥–∏—Ä–µ–∫—Ç–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è! –ü—Ä–µ–º–∏–Ω–∞–≤–∞ –ø—Ä–µ–∑ NOMENCLATURES ‚Üí INVENTORY

# –ö–æ–≥–∞—Ç–æ –¥–æ—Å—Ç–∞–≤–∫–∞—Ç–∞ –ø—Ä–µ–º–∏–Ω–µ –∫—ä–º '–∑–∞–≤—ä—Ä—à–µ–Ω':
# 1. PURCHASES –∏–∑–≤–∏–∫–≤–∞ NOMENCLATURES.transition_to('–∑–∞–≤—ä—Ä—à–µ–Ω')
# 2. NOMENCLATURES.StatusManager –ø—Ä–æ–≤–µ—Ä—è–≤–∞ DocumentTypeStatus
# 3. StatusManager –∏–∑–≤–∏–∫–≤–∞ INVENTORY.MovementService  
# 4. –°–∫–ª–∞–¥–æ–≤–∏—Ç–µ –¥–≤–∏–∂–µ–Ω–∏—è —Å–µ —Å—ä–∑–¥–∞–≤–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

# –†–µ–∑—É–ª—Ç–∞—Ç: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ç–µ –∑–∞ –ø–æ–∫—É–ø–∫–∏ –ø–æ–ª—É—á–∞–≤–∞—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—ä—Å —Å–∫–ª–∞–¥–∞ —Å –ù–£–õ–ê –∫–æ–¥
```

### –° PARTNERS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ

**–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏:**
```python
def _validate_purchase_creation(self, partner, location, lines):
    """–í–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏"""
    
    # –í–∞–ª–∏–¥–∏—Ä–∞–π —á–µ –ø–∞—Ä—Ç–Ω—å–æ—Ä—ä—Ç –µ –¥–æ—Å—Ç–∞–≤—á–∏–∫
    if not hasattr(partner, 'supplier_profile'):
        return Result.error('INVALID_PARTNER', '–ü–∞—Ä—Ç–Ω—å–æ—Ä—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –¥–æ—Å—Ç–∞–≤—á–∏–∫')
        
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –¥–æ—Å—Ç–∞–≤—á–∏–∫–∞
    if not partner.is_active:
        return Result.error('INACTIVE_SUPPLIER', '–î–æ—Å—Ç–∞–≤—á–∏–∫—ä—Ç –Ω–µ –µ –∞–∫—Ç–∏–≤–µ–Ω')
        
    # –ë–∏–∑–Ω–µ—Å –ø—Ä–∞–≤–∏–ª–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏
    # ... –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```

---

## –®–∞–±–ª–æ–Ω–∏ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ

### 1. **–û—Å–Ω–æ–≤–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏**

```python
from purchases.services import PurchaseDocumentService

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞
service = PurchaseDocumentService(user=current_user)

# –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∞  
result = service.create_document(
    'request',
    partner=supplier,
    location=warehouse,
    lines=[
        {
            'product': Product.objects.get(code='PROD001'),
            'quantity': Decimal('50'),        # ‚Üí requested_quantity
            'unit_price': Decimal('12.50')    # ‚Üí estimated_price
        }
    ],
    comments='–ú–µ—Å–µ—á–Ω–æ –ø–æ–ø—ä–ª–≤–∞–Ω–µ –Ω–∞ —Å–∫–ª–∞–¥–∞',
    priority='–≤–∏—Å–æ–∫',
    expected_delivery_date=date(2025, 9, 15)
)

if result.ok:
    request = result.data['document']
    print(f"–ó–∞—è–≤–∫–∞—Ç–∞ –µ —Å—ä–∑–¥–∞–¥–µ–Ω–∞: {request.document_number}")
```

### 2. **–†–∞–±–æ—Ç–µ–Ω –ø–æ—Ç–æ–∫ –∑–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏**

```python
# –ü—ä–ª–µ–Ω —Ä–∞–±–æ—Ç–µ–Ω –ø–æ—Ç–æ–∫ –∑–∞ —Å–Ω–∞–±–¥—è–≤–∞–Ω–µ
service = PurchaseDocumentService(user=current_user)

# –°—Ç—ä–ø–∫–∞ 1: –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –∑–∞—è–≤–∫–∞
request_result = service.create_document('request', supplier, warehouse, lines)
request = request_result.data['document']

# –°—Ç—ä–ø–∫–∞ 2: –û–¥–æ–±—Ä–µ–Ω–∏–µ –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞ (–ø—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç–∞—Ç—É—Å)
approval_result = service.facade.transition_to('–æ–¥–æ–±—Ä–µ–Ω–∞')

# –°—Ç—ä–ø–∫–∞ 3: –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –∫—ä–º –ø–æ—Ä—ä—á–∫–∞
order_result = service.convert_to_order(
    request, 
    conversion_data={
        'supplier_order_reference': 'SUP-2025-001',
        'expected_delivery_date': date(2025, 9, 20)
    }
)
order = order_result.data['document']

# –°—Ç—ä–ø–∫–∞ 4: –ü–æ—Ç–≤—ä—Ä–∂–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞ (–ø—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç–∞—Ç—É—Å)
confirm_result = service.facade.transition_to('–ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞')

# –°—Ç—ä–ø–∫–∞ 5: –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –∫—ä–º –¥–æ—Å—Ç–∞–≤–∫–∞
delivery_result = service.convert_to_delivery(
    order,
    delivery_data={
        'delivery_date': date.today(),
        'received_quantities': {
            1: Decimal('48'),  # –†–µ–¥ 1: –ø–æ–ª—É—á–µ–Ω–∏ 48 –≤–º–µ—Å—Ç–æ 50
            2: Decimal('25')   # –†–µ–¥ 2: –ø–æ–ª—É—á–µ–Ω–∏ –∫–∞–∫—Ç–æ –µ –ø–æ—Ä—ä—á–∞–Ω–æ
        }
    }
)
delivery = delivery_result.data['document']

# –°—Ç—ä–ø–∫–∞ 6: –ó–∞–≤—ä—Ä—à–≤–∞–Ω–µ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞—Ç–∞ (–∞–∫—Ç–∏–≤–∏—Ä–∞ —Å–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è!)
complete_result = service.facade.transition_to('–∑–∞–≤—ä—Ä—à–µ–Ω')
# ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ —Å—ä–∑–¥–∞–≤–∞—Ç —Å–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è
```

### 3. **–û–ø–µ—Ä–∞—Ü–∏–∏ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∏**

```python
# –°–∏–ª–∞—Ç–∞ –Ω–∞ —Ä–∞–±–æ—Ç–Ω–∏—è –ø–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª—è–≤–∞–Ω –æ—Ç —Å—Ç–∞—Ç—É—Å–∏
delivery_service = PurchaseDocumentService(document=delivery, user=user)

# –ó–∞–≤—ä—Ä—à–≤–∞–Ω–µ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞—Ç–∞ ‚Üí –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è
result = delivery_service.facade.transition_to('–∑–∞–≤—ä—Ä—à–µ–Ω')
# ‚úÖ –°–∫–ª–∞–¥–æ–≤–∏—Ç–µ –¥–≤–∏–∂–µ–Ω–∏—è —Å–µ —Å—ä–∑–¥–∞–≤–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

# –û—Ç–∫–∞–∑ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞—Ç–∞ ‚Üí –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ —Å–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è  
result = delivery_service.facade.transition_to('–æ—Ç–∫–∞–∑–∞–Ω')
# ‚ùå –°–∫–ª–∞–¥–æ–≤–∏—Ç–µ –¥–≤–∏–∂–µ–Ω–∏—è —Å–µ –∏–∑—Ç—Ä–∏–≤–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

# –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ ‚Üí –ü—Ä–µ—Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ —Å–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è
result = delivery_service.facade.transition_to('–∑–∞–≤—ä—Ä—à–µ–Ω')
# ‚úÖ –°–∫–ª–∞–¥–æ–≤–∏—Ç–µ –¥–≤–∏–∂–µ–Ω–∏—è —Å–µ –ø—Ä–µ—Å—ä–∑–¥–∞–≤–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
```

### 4. **–†–∞–±–æ—Ç–µ–Ω –ø–æ—Ç–æ–∫ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ**

```python
# –î–æ—Å—Ç–∞–≤–∫–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ
delivery = DeliveryReceipt.objects.get(document_number='DEL-001')

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–Ω–∏ —Ä–µ–¥–æ–≤–µ
for line in delivery.lines.all():
    if line.quality_approved is None:
        # –ò–∑–≤—ä—Ä—à–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ
        line.quality_approved = True  # –∏–ª–∏ False
        line.quality_notes = "–ü—Ä–æ—à–ª–∞ –≤—Å–∏—á–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏"
        line.save()

# –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –æ–±—â–∏—è —Å—Ç–∞—Ç—É—Å –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞—Ç–∞
if delivery.lines.filter(quality_approved=False).exists():
    delivery.quality_status = '—á–∞—Å—Ç–∏—á–Ω–æ'
elif delivery.lines.filter(quality_approved__isnull=True).exists():
    delivery.quality_status = '–≤ –ø—Ä–æ—Ü–µ—Å'
else:
    delivery.quality_status = '–æ–¥–æ–±—Ä–µ–Ω–æ'
    
delivery.save()

# –ó–∞–≤—ä—Ä—à–≤–∞–Ω–µ —Å–∞–º–æ —Å–ª–µ–¥ –æ–¥–æ–±—Ä–µ–Ω–∏–µ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ
if delivery.quality_status == '–æ–¥–æ–±—Ä–µ–Ω–æ':
    service = PurchaseDocumentService(document=delivery, user=user)
    result = service.facade.transition_to('–∑–∞–≤—ä—Ä—à–µ–Ω')
    # ‚Üí –°–∫–ª–∞–¥–æ–≤–∏ –¥–≤–∏–∂–µ–Ω–∏—è –∑–∞ –∞—Ä—Ç–∏–∫—É–ª–∏ –æ–¥–æ–±—Ä–µ–Ω–∏ –ø–æ –∫–∞—á–µ—Å—Ç–≤–æ
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Ç–∏–ø–æ–≤–µ—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏

**–í NOMENCLATURES –∞–¥–º–∏–Ω, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π DocumentTypeStatus –∑–∞ —Ç–∏–ø–æ–≤–µ—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏:**

```python
# –°—Ç–∞—Ç—É—Å–∏ –Ω–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∞
request_statuses = [
    {'code': '—á–µ—Ä–Ω–æ–≤–∞', 'is_initial': True, 'allows_editing': True},
    {'code': '–ø–æ–¥–∞–¥–µ–Ω–∞', 'allows_editing': False}, 
    {'code': '–æ–¥–æ–±—Ä–µ–Ω–∞', 'allows_editing': False},
    {'code': '–æ—Ç–∫–∞–∑–∞–Ω–∞', 'is_cancellation': True}
]

# –°—Ç–∞—Ç—É—Å–∏ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞ –∑–∞ –ø–æ–∫—É–ø–∫–∞  
order_statuses = [
    {'code': '—á–µ—Ä–Ω–æ–≤–∞', 'is_initial': True, 'allows_editing': True},
    {'code': '–ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞', 'allows_editing': False},
    {'code': '–∏–∑–ø—Ä–∞—Ç–µ–Ω–∞', 'allows_editing': False},
    {'code': '–æ—Ç–∫–∞–∑–∞–Ω–∞', 'is_cancellation': True}
]

# –°—Ç–∞—Ç—É—Å–∏ –Ω–∞ –¥–æ—Å—Ç–∞–≤–Ω–∞ —Ä–∞–∑–ø–∏—Å–∫–∞ (—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—ä—Å —Å–∫–ª–∞–¥–∞!)
delivery_statuses = [
    {
        'code': '—á–µ—Ä–Ω–æ–≤–∞', 
        'is_initial': True, 
        'allows_editing': True,
        'creates_inventory_movements': False
    },
    {
        'code': '–∑–∞–≤—ä—Ä—à–µ–Ω',
        'creates_inventory_movements': True,    # üéØ –ö–ª—é—á–æ–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞!
        'allows_editing': False
    },
    {
        'code': '–æ—Ç–∫–∞–∑–∞–Ω',
        'is_cancellation': True,
        'reverses_inventory_movements': True,   # üéØ –ö–ª—é—á–æ–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞!
        'allows_editing': True
    }
]
```

### –ê–¥–º–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–î–æ–∫—É–º–µ–Ω—Ç–∏—Ç–µ –∑–∞ –ø–æ–∫—É–ø–∫–∏ –ø–æ–ª—É—á–∞–≤–∞—Ç –ø—ä–ª–µ–Ω –∞–¥–º–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å:**
- –§–æ—Ä–º—É–ª—è—Ä–∏ –∑–∞ —Å—ä–∑–¥–∞–≤–∞–Ω–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏
- Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ —Ä–µ–¥–æ–≤–µ
- –î–µ–π—Å—Ç–≤–∏—è –∑–∞ –ø—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏  
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ
- –î–µ–π—Å—Ç–≤–∏—è –∑–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ (Request ‚Üí Order ‚Üí Delivery)

---

## –°—ä–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–Ω–æ—Å—Ç

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –∑–∞—è–≤–∫–∏—Ç–µ

**–†–∞–∑—à–∏—Ä–µ–Ω–∏ –º–µ–Ω–∏–¥–∂—ä—Ä–∏:**
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ select_related –≤ –º–µ–Ω–∏–¥–∂—ä—Ä–∏—Ç–µ –Ω–∞–º–∞–ª—è–≤–∞ DB –∑–∞—è–≤–∫–∏—Ç–µ
class DeliveryReceiptManager(models.Manager):
    def get_queryset(self):
        return super().get_queryset().select_related(
            'partner_content_type',
            'location_content_type', 
            'source_order',
            'received_by'
        )
```

**Prefetching –Ω–∞ —Ä–µ–¥–æ–≤–µ:**
```python
# –ö–æ–≥–∞—Ç–æ —Ä–∞–±–æ—Ç–∏—à —Å –¥–æ–∫—É–º–µ–Ω—Ç–∏, –≤–∏–Ω–∞–≥–∏ prefetch —Ä–µ–¥–æ–≤–µ—Ç–µ
deliveries = DeliveryReceipt.objects.prefetch_related(
    'lines__product',
    'lines__source_order_line'
)
```

### –ù–∞–º–∞–ª—è–≤–∞–Ω–µ –Ω–∞ –∫–æ–¥–∞

**–ü—Ä–µ–¥–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–∞–Ω–µ:** 700+ —Ä–µ–¥–∞ –≤ —É—Å–ª—É–≥–∏—Ç–µ –∑–∞ –ø–æ–∫—É–ø–∫–∏  
**–°–ª–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–∞–Ω–µ:** ~150 —Ä–µ–¥–∞ (75% –Ω–∞–º–∞–ª–µ–Ω–∏–µ)

**–ü–æ—Å—Ç–∏–≥–Ω–∞—Ç–æ —á—Ä–µ–∑:**
- ‚úÖ Facade pattern –¥–µ–ª–µ–≥–∏—Ä–∞–Ω–µ
- ‚úÖ –ï–ª–∏–º–∏–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –¥—É–±–ª–∏—Ä–∞–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–∞ –ª–æ–≥–∏–∫–∞  
- ‚úÖ –°–ø–æ–¥–µ–ª–µ–Ω–∏ —É—Å–ª—É–≥–∏ –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–∏ –∫–∞–ª–∫—É–ª–∞—Ü–∏–∏
- ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏

---

## –ù–∞–π-–¥–æ–±—Ä–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. **–í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π Facade**

```python
# ‚úÖ –î–æ–±—Ä–µ - –ò–∑–ø–æ–ª–∑–≤–∞–π PurchaseDocumentService facade
service = PurchaseDocumentService(user=user)
result = service.create_document('delivery', supplier, location, lines)

# ‚ùå –ò–∑–±—è–≥–≤–∞–π - –î–∏—Ä–µ–∫—Ç–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –º–æ–¥–µ–ª–∏
delivery = DeliveryReceipt.objects.create(...)  # –ü—Ä–µ—Å–∫–∞—á–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –Ω–æ–º–µ—Ä–∏—Ä–∞–Ω–µ, –∏ —Ç.–Ω.
```

### 2. **–û–±—Ä–∞–±–æ—Ç–≤–∞–π –∫–æ–Ω–≤–µ—Ä—Å–∏–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–Ω–æ**

```python  
# ‚úÖ –î–æ–±—Ä–µ - –ü—ä–ª–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å–∏—è —Å –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –≥—Ä–µ—à–∫–∏
conversion_result = service.convert_to_order(request, conversion_data)
if conversion_result.ok:
    order = conversion_result.data['document']
    # –ú–∞—Ä–∫–∏—Ä–∞–π –∑–∞—è–≤–∫–∞—Ç–∞ –∫–∞—Ç–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–∞
    request.status = '–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–∞'
    request.save()
else:
    logger.error(f"–ö–æ–Ω–≤–µ—Ä—Å–∏—è—Ç–∞ –Ω–µ —É—Å–ø—è: {conversion_result.msg}")

# ‚ùå –ò–∑–±—è–≥–≤–∞–π - –†—ä—á–Ω–æ —Å—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏ –±–µ–∑ –ø–æ–¥—Ö–æ–¥—è—â–æ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ
order = PurchaseOrder.objects.create(...)  # –ù—è–º–∞ –≤—Ä—ä–∑–∫–∞ –∫—ä–º –∏–∑—Ö–æ–¥–Ω–∞—Ç–∞ –∑–∞—è–≤–∫–∞
```

### 3. **–ò–∑–ø–æ–ª–∑–≤–∞–π –ø—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏**

```python
# ‚úÖ –î–æ–±—Ä–µ - –ò–∑–ø–æ–ª–∑–≤–∞–π facade –∑–∞ –ø—Ä–æ–º–µ–Ω–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏  
result = service.facade.transition_to('–∑–∞–≤—ä—Ä—à–µ–Ω')
# –û–±—Ä–∞–±–æ—Ç–≤–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–∫–ª–∞–¥, –ª–æ–≥–∏—Ä–∞–Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

# ‚ùå –ò–∑–±—è–≥–≤–∞–π - –î–∏—Ä–µ–∫—Ç–Ω–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ –ø–æ–ª–µ—Ç–∞—Ç–∞ –∑–∞ —Å—Ç–∞—Ç—É—Å
delivery.status = '–∑–∞–≤—ä—Ä—à–µ–Ω'  # –ë–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏—è, –±–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—ä—Å —Å–∫–ª–∞–¥–∞
delivery.save()
```

### 4. **–ò–∑–ø–æ–ª–∑–≤–∞–π generic –≤—Ö–æ–¥–µ–Ω —Ñ–æ—Ä–º–∞—Ç**

```python
# ‚úÖ –î–æ–±—Ä–µ - –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–µ–Ω –≤—Ö–æ–¥–µ–Ω —Ñ–æ—Ä–º–∞—Ç –∑–∞ –≤—Å–∏—á–∫–∏ —Ç–∏–ø–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏
lines_format = [
    {
        'product': product,
        'quantity': Decimal('10'),     # –í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π 'quantity'
        'unit_price': Decimal('25')    # –í–∏–Ω–∞–≥–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π 'unit_price'  
    }
]

# –†–∞–±–æ—Ç–∏ –∑–∞ –≤—Å–∏—á–∫–∏ —Ç–∏–ø–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏:
service.create_document('request', ...)    # ‚Üí requested_quantity
service.create_document('order', ...)      # ‚Üí ordered_quantity
service.create_document('delivery', ...)   # ‚Üí received_quantity
```

---

## –û—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –Ω–µ–∏–∑–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏

### –ß–µ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∏

**1. –°–∫–ª–∞–¥–æ–≤–∏—Ç–µ –¥–≤–∏–∂–µ–Ω–∏—è –Ω–µ —Å–µ —Å—ä–∑–¥–∞–≤–∞—Ç:**
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ DocumentTypeStatus
status_config = DocumentTypeStatus.objects.get(
    document_type__name='–î–æ—Å—Ç–∞–≤–Ω–∞ —Ä–∞–∑–ø–∏—Å–∫–∞',
    status__code='–∑–∞–≤—ä—Ä—à–µ–Ω'
)
print(f"–°—ä–∑–¥–∞–≤–∞ –¥–≤–∏–∂–µ–Ω–∏—è: {status_config.creates_inventory_movements}")
# –¢—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ True –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—ä—Å —Å–∫–ª–∞–¥–∞
```

**2. –ù–µ—É—Å–ø–µ—à–Ω–∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏:**
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –∏–∑—Ö–æ–¥–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç
if request.status not in ['–æ–¥–æ–±—Ä–µ–Ω–∞', '–ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞']:
    # –ó–∞—è–≤–∫–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –æ–¥–æ–±—Ä–µ–Ω–∞ –ø—Ä–µ–¥–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –∫—ä–º –ø–æ—Ä—ä—á–∫–∞
    
if order.status not in ['–ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞', '–∏–∑–ø—Ä–∞—Ç–µ–Ω–∞']:
    # –ü–æ—Ä—ä—á–∫–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ –ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞ –ø—Ä–µ–¥–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –∫—ä–º –¥–æ—Å—Ç–∞–≤–∫–∞
```

**3. –ü—Ä–æ–±–ª–µ–º–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–∞ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ:**
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –Ω–∏–≤–æ —Ä–µ–¥
for line in delivery.lines.all():
    if line.quality_approved is None:
        print(f"–†–µ–¥ {line.line_number} —á–∞–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ")
```

---

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**PURCHASES –∑–∞–≤–∏—Å–∏ –æ—Ç:**
- `core` - –ë–∞–∑–æ–≤–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞, Result pattern
- `nomenclatures` - DocumentService facade (–≥–ª–∞–≤–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç!)
- `products` - –ú–æ–¥–µ–ª–∏ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏ –∑–∞ —Ä–µ–¥–æ–≤–µ
- `partners` - –ú–æ–¥–µ–ª–∏ –Ω–∞ –¥–æ—Å—Ç–∞–≤—á–∏—Ü–∏
- `inventory` - –ú–æ–¥–µ–ª–∏ –Ω–∞ –ª–æ–∫–∞—Ü–∏–∏

**–ù–∏–∫–æ–µ –¥—Ä—É–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≤–∏—Å–∏ –æ—Ç PURCHASES:**
- PURCHASES –µ –ª–∏—Å—Ç–æ–≤–æ –≤—ä–∑–µ–ª –≤ –≥—Ä–∞—Ñ–∞ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ
- –¶—è–ª–∞—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–µ —Å–ª—É—á–≤–∞ —á—Ä–µ–∑ NOMENCLATURES facade

---

## –ò—Å—Ç–æ—Ä–∏—è –Ω–∞ –≤–µ—Ä—Å–∏–∏—Ç–µ

- **v1.0** - –û—Å–Ω–æ–≤–Ω–∏ –º–æ–¥–µ–ª–∏ –∏ —É—Å–ª—É–≥–∏ –∑–∞ –ø–æ–∫—É–ø–∫–∏ (700+ —Ä–µ–¥–∞)
- **v1.5** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É—Å–ª—É–≥–∏—Ç–µ –Ω–∞ nomenclatures  
- **v2.0** - Facade pattern –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—è, thin wrapper —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ä–∞–Ω–µ
- **v2.1** - –†–∞–±–æ—Ç–Ω–∏ –ø–æ—Ç–æ—Ü–∏ –∑–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∏
- **v2.2** - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏ –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ—Ç–æ
- **v2.3** - –ü—ä–ª–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—ä—Å —Å–∫–ª–∞–¥–∞ —á—Ä–µ–∑ –ø—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∏ (150 —Ä–µ–¥–∞, 75% –Ω–∞–º–∞–ª–µ–Ω–∏–µ)

---

*–ü–æ—Å–ª–µ–¥–Ω–æ –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–∞–Ω–µ: 2025-08-29*  
*–í–µ—Ä—Å–∏—è: 2.3*  
*–°—Ç–∞—Ç—É—Å: ‚úÖ –ì–æ—Ç–æ–≤–æ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ - –ù–∞–ø—ä–ª–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–∞–Ω–æ —Å NOMENCLATURES Facade*